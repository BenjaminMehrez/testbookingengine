{% extends "main.html" %}

{% block content %}
<h1 class="py-5">Editar fechas de reserva</h1>
<div class="mb-4">
    <h5>Reserva: {{ booking.code }}</h5>
    <p>Habitación: {{ booking.room.name }} ({{ booking.room.room_type.name }})</p>
</div>

<form action="" method="POST">
    {% csrf_token %}
    
    {% for field in form %}
    <div class="row py-2">
        <div class="col-md-2">{{ field.label_tag }}</div>
        <div class="col-md">
            {{ field }}
            {% if field.errors %}
                <div class="text-danger small">{{ field.errors.as_text }}</div>
            {% endif %}
        </div>
    </div>
    {% endfor %}

    {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {{ form.non_field_errors }}
        </div>
    {% endif %}

    <div class="row">
         <div class="col mb-3"><span>Días: </span><span id="total-days"></span></div>
    </div>
    
    <div class="row">
        <div class="col-md-auto">
            <button class="btn btn-success" type="submit">Guardar Cambios</button>
            <a href="{% url 'home' %}" class="btn btn-outline-secondary">Cancelar</a>
        </div>
    </div>
</form>

{% load static %}
<script async src="{% static 'js/search_room.js' %}"></script>

{% endblock content %}